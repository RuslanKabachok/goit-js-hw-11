{"version":3,"sources":["api.js","index.js"],"names":["Api","constructor","searchQuery","page","fetchImg","URL","fetch","then","response","json","query","newQuery","refs","form","document","querySelector","input","list","loadMore","api","onLoadMore","data","hits","renderCard","onFormSubmit","e","preventDefault","currentTarget","elements","value","markUp","map","img","webformatURL","tags","likes","views","comments","downloads","join","innerHTML","addEventListener"],"mappings":";;;AAAyB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAV,MAAMA,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGdC,WACQC,MAAAA,uEAA2E,KAAKH,uFAAuF,KAAKC,mBAE3KG,OAAAA,MAAMD,GAAKE,KAAKC,IAChBL,KAAAA,MAAQ,EACNK,EAASC,SAIhBC,YACK,OAAA,KAAKR,YAGVQ,UAAMC,GACHT,KAAAA,YAAcS,GApBE,QAAA,QAAA;;AC4DxB,aA5DD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,UA2DC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzDD,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,SAC9BE,KAAMH,SAASC,cAAc,YAC7BG,SAAUJ,SAASC,cAAc,8BAG7BI,EAAM,IAAInB,EAAJ,QAKZ,SAASoB,IACPD,EACGf,WACAG,KAAKc,GACGA,EAAKC,MAEbf,KAAKgB,GAGV,SAASC,EAAaC,GACpBA,EAAEC,iBACFP,EAAIT,MAAQe,EAAEE,cAAcC,SAAS1B,YAAY2B,MAEjDV,EACGf,WACAG,KAAKc,GACGA,EAAKC,MAEbf,KAAKgB,GAGV,SAASA,EAAWF,GACZS,MAAAA,EAAST,EACZU,IACCC,4CACQA,EAAIC,sBAAsBD,EAAIE,qHAG3BF,EAAIG,kEAGJH,EAAII,qEAGDJ,EAAIK,yEAGHL,EAAIM,6CAKpBC,KAAK,IAER3B,EAAKK,KAAKuB,UAAYV,EA/CxBlB,EAAKC,KAAK4B,iBAAiB,SAAUjB,GACrCZ,EAAKM,SAASuB,iBAAiB,QAASrB","file":"src.4b0dfe3d.js","sourceRoot":"../src","sourcesContent":["export default class Api {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImg() {\n    const URL = `https://pixabay.com/api/?key=25284059-64aa950e28f1ef43b7bf646a1&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&lang=en,ru&page=${this.page}&per_page=40`;\n\n    return fetch(URL).then(response => {\n      this.page += 1;\n      return response.json();\n    });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import './sass/main.scss';\nimport Api from './api';\n\nconst refs = {\n  form: document.querySelector('form'),\n  input: document.querySelector('input'),\n  list: document.querySelector('.gallery'),\n  loadMore: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nconst api = new Api();\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.loadMore.addEventListener('click', onLoadMore);\n\nfunction onLoadMore() {\n  api\n    .fetchImg()\n    .then(data => {\n      return data.hits;\n    })\n    .then(renderCard);\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  api.query = e.currentTarget.elements.searchQuery.value;\n\n  api\n    .fetchImg()\n    .then(data => {\n      return data.hits;\n    })\n    .then(renderCard);\n}\n\nfunction renderCard(data) {\n  const markUp = data\n    .map(\n      img => `<div class=\"photo-card\">\n  <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" width: 100px height: 70px/>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes ${img.likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views ${img.views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments ${img.comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads ${img.downloads}</b>\n    </p>\n  </div>\n</div>`,\n    )\n    .join('');\n\n  refs.list.innerHTML = markUp;\n}\n"]}